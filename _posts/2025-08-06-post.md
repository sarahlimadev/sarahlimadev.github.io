---
layout: post
image: assets/img/post_07_16/header_post_07_16.png
image_caption: Uma imagem da logo da plataforma n8n
title: "Como hospedar o n8n locamente"
subtitle: Hospendando o n8n de forma gratuita
date: 2025-08-06
author: Gabriel A. Belo
categories: [Agentes de IA]
tags: [n8n]
---

Anteriormente, foi mostrado [como construir um Agente de chat básico no Telegram](https://gabrielbelo2007.github.io/blog-IA/agentes%20de%20ia/2025/07/16/post.html) através do [n8n](https://n8n.io/), e nesse post foi utilizado a avaliação gratuita de 14 dias, contudo sabemos que para uma utilização mais apronfudada isso é um período muito curto, além disso os planos disponibilizados pela plataforma tem um preço elevado para aqueles que querem inicialmente apenas se aventurar na plataforma.

Tendo isso em vista, nesse post eu vou explicar como fazer a instalação do n8n na sua máquina ([Linux](#instalação-no-linux-recomendação) e [Windows]()) e rodar localmente os seus *workflows*, sem nenhum tipo de custo, dessa forma as limitações de processamento vão depender apenas do hardware da sua máquina, mas para fins didáticos será mais que o suficiente.

## Instalação no Linux (Recomendação)

A instalação do n8n funciona através de Docker, por isso é altamente recomendável que você utilize um computador com Linux instalado, contudo caso não seja o seu caso, a próxima seção irá atender os usuários de Windows.

### Sumário

- [Instalando Docker](#instalando-docker)
- [Instalando o n8n](#instalando-o-n8n)

A seguir vamos ter o passo a passo da instalação do Docker no Linux:

### Instalando Docker

**1. Atualize os pacotes existentes:**
Primeiro, atualize o índice de pacotes apt e instale os pacotes necessários para usar o repositório do Docker via HTTPS.

```Bash

sudo apt-get update
sudo apt-get install ca-certificates curl gnupg
```

**2. Adicione a chave GPG oficial do Docker:**

```Bash

sudo install -m 0755 -d /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
sudo chmod a+r /etc/apt/keyrings/docker.gpg
```

**3. Configure o repositório:**

```Bash

echo \
  "deb [arch="$(dpkg --print-architecture)" signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \
  "$(. /etc/os-release && echo "$VERSION_CODENAME")" stable" | \
  sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
```

**4. Instale o Docker Engine:**
Finalmente, atualize o índice de pacotes apt e instale o Docker Engine, containerd e Docker Compose.

```Bash

sudo apt-get update
sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
```

**5. Verifique a instalação:**
Para ter certeza de que a instalação foi bem-sucedida, execute o contêiner de teste hello-world.

```sudo docker run hello-world```

Caso não apareça a mensagem:

```Bash

"Hello from Docker!
This message shows that your installation appears to be working correctly."
```

Siga os seguintes passos:

- Verifique o status do serviço
    ```sudo systemctl status docker```

- Se não estiver rodando, inicie-o
    ```sudo systemctl start docker```

- Caso queira o Docker inicie automaticamente na inicialização do computador (Opcional)
   ```sudo systemctl enable docker```

Teste novamente:

```sudo docker run hello-world```

Agora é provável que tudo esteja funcionando corretamente!

### Instalando o n8n

Com o Docker funcional agora podemos fazer a instalação do n8n. Eu recomendo a utilização de uma IDE como o VSCode que possui extensões para o uso de Docker, a *Dev Containers* e a *Container Tools*.

**1. Criando a Estrutura do Projeto:** Vamos começar criando uma pasta para o seu projeto n8n (por exemplo, n8n-docker) e acesse pela sua IDE.

**2: O Arquivo docker-compose.yml**: O arquivo docker-compose.yml informa ao Docker quais serviços ele precisa executar (neste caso, o n8n) e como configurá-los.

Crie um arquivo chamado docker-compose.yml dentro da sua pasta n8n-docker e adicione o seguinte conteúdo.

```Yml

nano docker-compose.yml
Cole o seguinte conteúdo no arquivo:

YAML

version: '3.8'

services:
  n8n:
    image: n8nio/n8n
    restart: always
    ports:
      - 5678:5678
    volumes:
      - n8n_data:/home/node/.n8n
    environment:
      - N8N_BASIC_AUTH_ACTIVE=true
      - N8N_BASIC_AUTH_USER=${N8N_USER:-user}
      - N8N_BASIC_AUTH_PASSWORD=${N8N_PASSWORD:-password}
      - N8N_EDITOR_BASE_URL=http://localhost:5678/
      - N8N_PROTOCOL=http
      - N8N_HOST=localhost
      - N8N_PORT=5678
      - N8N_VUE_APP_URL_BASE_API=http://localhost:5678/
      - N8N_VUE_APP_URL_BASE_WEB=http://localhost:5678/
      - N8N_DEFAULT_EMAIL=seu_email@dominio.com
      - N8N_DEFAULT_PASSWORD=sua_senha_segura
      - N8N_DEFAULT_USER_EMAIL=seu_email@dominio.com

volumes:
  n8n_data:
```

- Entendendo a Configuração
    - "*version*: '3.8'": Define a versão da sintaxe do Docker Compose.
    - "*image*: n8nio/n8n": Diz ao Docker para baixar e usar a imagem oficial do n8n.
    - "*restart*: always": Garante que o contêiner do n8n será reiniciado automaticamente se ele falhar ou se a máquina for reiniciada.
    - "*ports*: - 5678:5678": Isso permite que você acesse o n8n pelo seu navegador em http://localhost:5678.
    - "*volumes*: - n8n_data:/home/node/.n8n": Isso é crucial. Ele cria um volume Docker chamado n8n_data. Esse volume armazena os dados do n8n, como seus fluxos de trabalho e credenciais, de forma persistente. Mesmo se você parar ou remover o contêiner, seus dados permanecerão seguros no volume.
    - "*environment*": Aqui definimos as variáveis de ambiente.
    - "*N8N_BASIC_AUTH_ACTIVE*=true": Habilita a autenticação básica para proteger seu painel.
    - "*N8N_BASIC_AUTH_USER*" e "*N8N_BASIC_AUTH_PASSWORD*": Define o usuário e a senha para a autenticação básica. Recomendamos que você substitua user e password por valores seguros.
    - "*N8N_DEFAULT_EMAIL*" e "*N8N_DEFAULT_PASSWORD*": Define as credenciais para o primeiro usuário que será criado no n8n. Substitua seu_email@dominio.com e sua_senha_segura por suas próprias credenciais.
    - "*N8N_EDITOR_BASE_URL*", "*N8N_PROTOCOL*", etc.: Estas variáveis são importantes para que o n8n saiba como se referenciar e funcionar corretamente quando rodando localmente.

**3. Iniciando o n8n:** No terminal, na mesma pasta n8n-docker, execute o seguinte comando:

```docker compose up -d```

docker compose up: Inicia os serviços definidos no docker-compose.yml.

-d: Roda o contêiner em segundo plano (modo "detached"), liberando seu terminal.

Você verá o Docker baixando a imagem do n8n (se for a primeira vez) e, em seguida, criando e iniciando o contêiner.

**4. Acessando o n8n:** Após alguns instantes, o n8n estará pronto para uso. Abra seu navegador e navegue para:

[http://localhost:5678](http://localhost:5678)

Uma tela de login aparecerá, faça seu cadastro e pronto você receberá uma chave de ativação da versão completa do n8n no email cadastrado e poderá utilizar a plataforma sem qualquer limitação.


**5. Parando e Reiniciando o n8n:** Quando quiser parar o n8n, basta executar o seguinte comando na mesma pasta: 

```docker compose down```

Isso irá parar e remover o contêiner, mas manterá seus dados intactos no volume n8n_data.

Para reiniciar, basta executar ```docker compose up -d``` novamente.

Para remover o contêiner e o volume de dados (o que apagará todos os seus fluxos de trabalho!), use: ```docker compose down -v```

Caso queira ver quanto da sua memória, CPU, Internet entre outras informações sobre o seu container do n8n, você pode usar o comando ```docker stats`` no terminal.

## Instalação no Windows

Para o windows a instalação funciona através do [site oficial do Docker](https://docs.docker.com/desktop/setup/install/windows-install/) e para que o *Docker Desktop* funcione é preciso atender o pré-requisito de ter o WSL (Virtualização do Linux para Windows) ou ativar o Hyper-V, a segunda opção já é nativa do Windows e portanto será a que vamos escolher.

### Sumário

- [Ativando o Hyper-V](#ativando-o-hyper-v)
- [Instalando Docker Desktop](#instalando-docker-desktop)
- [Criando a imagem do n8n](#criando-a-imagem-do-n8n)

### Ativando o Hyper-V

Para ativar esse recurso nativo do Windows, procuramos por "Ativar ou Desativar recursos do Windows" no menu iniciar. Ao abrir teremos uma janela com várias pastas referentes ao recursos do sistema, então vamos procurar a pasta chamada *Hyper-V*, possivelmente o seu estára com a caixa de seleção desmarcada, então clique para marca-lá e então aperte em OK para fechar a janela e o Windows implementará o recurso.

**Metódo Alternativo**: Caso você não encontre a pasta do *Hyper-V* na janela de recursos, você pode ativa-ló através do CMD com o seguinte código:

``DISM /Online /Enable-Feature /All /FeatureName:Microsoft-Hyper-V```

Agora o seu sistema já está pronto para instalar o *Docker Desktop*.

### Instalando Docker Desktop

Retornando ao [site oficial do Docker](https://docs.docker.com/desktop/setup/install/windows-install/) clicamos em *Docker Desktop for Windows* assim irá iniciar a instalação. Com ela concluída abrimos o arquivo e na primeira tela de configuração desmarcamos a opção "Use WSL 2 instead of Hyper-V", já que estamos utilizando o Hyper-V e não o WSL, e prosseguimos com a instalação, quando ela tiver concluída é necessário reiniciar o computador e então abrir o *Docker Desktop*.

Aceite os termos, e deixe marcado a opção "Use recommended settings" e clique em *Finish*, na área de login você pode clicar em skip nas duas telas seguintes ou registrar sua conta do Docker e então temos a tela inicial do *Docker Desktop*.

### Criando a imagem do n8n

Primeiro é necessário criar uma pasta no seu computador, onde serão armazenados os dados do n8n e copiar o caminho dessa pasta.

Com isso feito, voltamos para a tela do *Docker Desktop* e selecionamos a seção lateral *Images* e clicamos em em *Search images to run* e na aba de *search* escrevemos *n8n* e então no primeiro resultado clicamos em *pull* e aguardamos a instalação.

Após a instalação, teremos o n8n na nossa lista de *images*, assim vamos até ele e clicamos em *run*, aparecerá uma janela flutuante com a opção de *optional settings* vamos clicar nela e um menu expandido irá aparecer:

    - *Container name*: Escolha o nome do container (por exemplo, container-n8n)
    - *Host port*: 5678
    - *Volumes*:
        - *Host path*: Insira o caminho da pasta criada para armazenar os dados do n8n
        - *Container path*: /home/node/.n8n

E pode clicar em *run*. Logo, o container será carregado e ao fim do carregamento o n8n estará pronto para uso em:

[http://localhost:5678](http://localhost:5678)

> Vale salientar que o Docker Desktop pode apresentar instabilidades tanto com o Hyper-V ou o WSL, a melhor forma de usufruir do seu uso é através da instalação via Linux, mas não deixa de ser uma alternativa caso você prefira o Windows.

Pronto, dessa forma agora você estará pronto para aprender ainda mais sobre essa plataforma de automação e principalmente acompanhar as próximas postagens relacionadas a agentes com IA cada vez mais completos!